(window.webpackJsonp=window.webpackJsonp||[]).push([[8,7],{464:function(t,r,e){"use strict";e.r(r);var o={props:{text:{type:String,default:""},hasMargin:{type:Boolean,default:!0}}},n=e(78),component=Object(n.a)(o,(function(){var t=this,r=t.$createElement;return(t._self._c||r)("div",{staticClass:"text-h5",class:{"mb-5":t.hasMargin}},[t._v(t._s(t.text))])}),[],!1,null,null,null);r.default=component.exports},661:function(t,r,e){"use strict";e.r(r);e(15),e(12),e(17),e(13),e(18);var o=e(1),n=(e(7),e(42),e(43),e(68),e(14),e(56),e(635)),m=e(74);function d(object,t){var r=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),r.push.apply(r,e)}return r}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(r){Object(o.a)(t,r,source[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(source,r))}))}return t}var l={name:"IndexPage",components:{PagesTitle:function(){return Promise.resolve().then(e.bind(null,464))},LineChart:n.LineChart,BarChart:n.BarChart},computed:c(c({},Object(m.c)("items",["getItems"])),{},{weekdaysFromToday:function(){return[this.$moment().subtract("days",0).format("dddd"),this.$moment().subtract("days",1).format("dddd"),this.$moment().subtract("days",2).format("dddd"),this.$moment().subtract("days",3).format("dddd"),this.$moment().subtract("days",4).format("dddd"),this.$moment().subtract("days",5).format("dddd"),this.$moment().subtract("days",6).format("dddd")].reverse()},listLastWeekCreatedItems:function(){var t=this,r=[[],[],[],[],[],[],[]];return this.getItems.map((function(e){var o=t.$moment(e.created_at).format("YYYY-MM-DD");return console.log("listLastWeekCreatedItems",e,o),o===t.$moment().subtract("days",0).format("YYYY-MM-DD")?r[0].push(e):o===t.$moment().subtract("days",1).format("YYYY-MM-DD")?r[1].push(e):o===t.$moment().subtract("days",2).format("YYYY-MM-DD")?r[2].push(e):o===t.$moment().subtract("days",3).format("YYYY-MM-DD")?r[3].push(e):o===t.$moment().subtract("days",4).format("YYYY-MM-DD")?r[4].push(e):o===t.$moment().subtract("days",5).format("YYYY-MM-DD")?r[5].push(e):o===t.$moment().subtract("days",6).format("YYYY-MM-DD")&&r[6].push(e),e})),r.reverse()},listLastWeekFinishedItems:function(){var t=this,r=[[],[],[],[],[],[],[]];return this.getItems.filter((function(t){return"Обработана"===t.status})).map((function(e){var o=t.$moment(e.created_at).format("YYYY-MM-DD");return console.log("listLastWeekCreatedItems",e,o),o===t.$moment().subtract("days",0).format("YYYY-MM-DD")?r[0].push(e):o===t.$moment().subtract("days",1).format("YYYY-MM-DD")?r[1].push(e):o===t.$moment().subtract("days",2).format("YYYY-MM-DD")?r[2].push(e):o===t.$moment().subtract("days",3).format("YYYY-MM-DD")?r[3].push(e):o===t.$moment().subtract("days",4).format("YYYY-MM-DD")?r[4].push(e):o===t.$moment().subtract("days",5).format("YYYY-MM-DD")?r[5].push(e):o===t.$moment().subtract("days",6).format("YYYY-MM-DD")&&r[6].push(e),e})),r.reverse()},options:function(){return{responsive:!0,plugins:{legend:{position:"top"}}}},weekData:function(){return{labels:this.weekdaysFromToday,datasets:[{label:"Созданные",data:this.listLastWeekCreatedItems.map((function(t){return t.length})),borderColor:"#77CEFF",backgroundColor:"#77CEFF"},{label:"Завершенные",data:this.listLastWeekFinishedItems.map((function(t){return t.length})),borderColor:"orange",backgroundColor:"orange"}]}},monthData:function(){return{labels:this.$moment.monthsShort(),datasets:[{label:"Созданные",data:Array.from({length:30},(function(){return Math.floor(40*Math.random())})),borderColor:"#77CEFF",backgroundColor:"#77CEFF"},{label:"Завершенные",data:Array.from({length:30},(function(){return Math.floor(40*Math.random())})),borderColor:"orange",backgroundColor:"orange"}]}},yearData:function(){return{labels:Array.from({length:365},(function(){return"-"})),datasets:[{label:"Созданные",data:Array.from({length:365},(function(){return Math.floor(40*Math.random())})),borderColor:"#77CEFF",backgroundColor:"#77CEFF"},{label:"Завершенные",data:Array.from({length:365},(function(){return Math.floor(40*Math.random())})),borderColor:"orange",backgroundColor:"orange"}]}}}),beforeMount:function(){this.setData()},methods:c({},Object(m.b)("items",["setData"]))},f=e(78),h=e(97),Y=e.n(h),y=e(473),v=e(548),D=e(219),component=Object(f.a)(l,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"wrapper"},[e("div",{staticClass:"d-flex align-items-center justify-space-between mb-5"},[e("pages-title",{attrs:{text:"Заявки за неделю"}}),t._v(" "),e("v-form",{attrs:{target:"downloadframe",method:"POST",action:"https://dsfamsr.ru/api/report/7"}},[e("v-btn",{attrs:{color:"primary",type:"submit"}},[t._v("\n        Скачать отчет\n        "),e("v-icon",{attrs:{right:""}},[t._v("\n          mdi-printer\n        ")])],1)],1)],1),t._v(" "),e("LineChart",{ref:"doughnutRef",attrs:{"chart-data":t.weekData,options:t.options}}),t._v(" "),e("div",{staticClass:"d-flex align-items-center justify-space-between mb-5 mt-15"},[e("pages-title",{attrs:{text:"Заявки за Месяц"}}),t._v(" "),e("v-form",{attrs:{target:"downloadframe",method:"POST",action:"https://dsfamsr.ru/api/report/30"}},[e("v-btn",{attrs:{color:"primary",type:"submit"}},[t._v("\n        Скачать отчет\n        "),e("v-icon",{attrs:{right:""}},[t._v("\n          mdi-printer\n        ")])],1)],1)],1),t._v(" "),e("LineChart",{ref:"doughnutRef",attrs:{"chart-data":t.monthData,options:t.options}}),t._v(" "),e("div",{staticClass:"d-flex align-items-center justify-space-between mb-5 mt-15"},[e("pages-title",{attrs:{text:"Заявки за Год"}}),t._v(" "),e("v-form",{attrs:{target:"downloadframe",method:"POST",action:"https://dsfamsr.ru/api/report/365"}},[e("v-btn",{attrs:{color:"primary",type:"submit"}},[t._v("\n        Скачать отчет\n        "),e("v-icon",{attrs:{right:""}},[t._v("\n          mdi-printer\n        ")])],1)],1)],1),t._v(" "),e("BarChart",{ref:"doughnutRef",attrs:{"chart-data":t.yearData,options:t.options}})],1)}),[],!1,null,null,null);r.default=component.exports;Y()(component,{PagesTitle:e(464).default}),Y()(component,{VBtn:y.a,VForm:v.a,VIcon:D.a})}}]);